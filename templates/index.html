<!-- templates/index.html -->

<!DOCTYPE html>
<html>
<head>
    <title>Weather Forecast Application</title>
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/mainpage.css') }}">
</head>
<body>
    <h1>Weather Forecast Application</h1>
    <form method="post">
        <label for="location">Location:</label>
        <input type="text" name="location" id="location" value="{{ weather_data.name }}" required>
        <br>
        <label for="unit">Temperature Unit:</label>
        <select name="unit" id="unit">
            <option value="Celsius" {% if unit == 'metric' %}selected{% endif %}>Celsius</option>
            <option value="Fahrenheit" {% if unit == 'imperial' %}selected{% endif %}>Fahrenheit</option>
        </select>
        <br>
        <input type="submit" value="Get Weather Forecast">
    </form>

    {% if weather_data %}
        <h2>Current Weather</h2>
        <p>Location: {{ weather_data.name }}</p>
        <p>Temperature: {{ weather_data.main.temp }}°{{ 'C' if unit == 'metric' else 'F' }}</p>
        <p>Sunrise: {{ sunrise_time }}</p>
        <p>Sunset: {{ sunset_time }}</p>
      <!--  <img src="{{ url_for('static', filename=weather_icon_day if is_daytime else weather_icon_night) }}" alt="{{ weather_data.weather[0].description }}"> -->
        <!-- Add more weather details as needed -->
    {% endif %}

    {% if forecast_dict %}
        <h2>Weather Forecast for the Next Few Days</h2>
        <div class="forecast-container">
            {% for day in forecast_dict.keys() %}
                <div class="box forecast-day">
                    <h3>{{ day }}</h3>
                    {% for time in forecast_dict[day].keys() %}
                        <div class="box2 forecast-time">
                            <p><strong>Time:</strong> {{ time }}</p>
                            <p><strong>Temp:</strong> {{ forecast_dict[day][time]["temp"] }}°{{ 'C' if unit == 'metric' else 'F' }}</p>
                            <p><strong>Wind:</strong> {{ forecast_dict[day][time]["wind"] }}°{{ 'C' if unit == 'metric' else 'F' }}</p>
                            <img src="{{ forecast_dict[day][time]["icon"] }}" alt="{{ forecast_dict[day][time]["description"] }}">
                        </div>
                    {% endfor %}
                </div>
            {% endfor %}
        </div>
    {% endif %}
</body>
</html>
